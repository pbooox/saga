<!-- Main Container -->

  <!-- HeaderComponent Component -->
  <app-header></app-header>

  <!-- Main Content -->
  <main class="login-main">
    <div class="login-container">
      <div class="login-card">
        <div class="login-content">
          <!-- Left Panel -->
          <div class="left-panel">
            <div class="background-overlay"></div>
            <div class="decorative-circle circle-top"></div>
            <div class="decorative-circle circle-bottom"></div>

            <div class="relative flex flex-col justify-center bg-gradient-to-br rounded-2x1 text-white p-10 overflow-hidden">
              <div class="mb-10">
                <img
                  ngSrc="/assets/images/web/logotipoBlanco.png"
                  alt="Logo"
                  height="500"
                  width="1594"
                  priority
                />
              </div>

              <div class="welcome-card">
                <h2 class="text-lg font-extrabold text-white">Bienvenido de nuevo</h2>
                <p class="text-base text-white/80">
                  Accede al Sistema SAGA para gestionar tus trámites ambientales
                  de forma rápida y segura.
                </p>

                <div class="space-y-4">
                  <div class="feature-item">
                    <div class="check-icon">
                      <mat-icon class="align-middle flex-shrink-0 text-white">check_small</mat-icon>
                    </div>
                    <span>Acceso seguro y confiable</span>
                  </div>

                  <div class="feature-item">
                    <div class="check-icon">
                      <mat-icon class="align-middle flex-shrink-0 text-white">check_small</mat-icon>
                    </div>
                    <span>Gestión completa de trámites</span>
                  </div>

                  <div class="feature-item">
                    <div class="check-icon">
                      <mat-icon class="align-middle flex-shrink-0 text-white">check_small</mat-icon>
                    </div>
                    <span>Seguimiento en tiempo real</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Right Panel -->
          <div class="right-panel">
            <div class="flex flex-col items-center mb-6">
              <div class="shield-icon">
                <mat-icon class="align-middle flex-shrink-0 text-white">shield</mat-icon>
              </div>
              <h1 class="text-xl font-semibold">Iniciar Sesión</h1>
              <p class="text-m">Accede a tu cuenta del Sistema SAGA</p>
            </div>

            <!-- Social LoginPageComponent -->
            <div class="social-login">
                <button
                  type="button"
                  class="social-btn"
                  (click)="accederConGoogle()"
                >
                  <fa-icon class="text-red-600" [icon]="faGoogle"></fa-icon>
                  <span>Google</span>
                </button>
                <button
                  type="button"
                  class="social-btn"
                  (click)="accederConFacebook()"
                >
                  <fa-icon class="text-blue-600" [icon]="faFacebook"></fa-icon>
                  <span>Facebook</span>
                </button>
            </div>

            <!-- Divider -->
            <div class="divider">
              <div class="divider-line"></div>
              <span class="divider-text">O continúa con</span>
            </div>

            <!-- LoginPageComponent Form -->
            <form class="login-form" [formGroup]="loginForm" (ngSubmit)="iniciarSesion()">
              <div class="form-row">
                <div class="input-group">
                  <label class="input-label" for="correo">Correo Electrónico</label>
                  <div class="input-wrapper">
                    <div class="input-icon icon-gray">
                      <mat-icon>mail</mat-icon>
                    </div>
                    <input
                      id="correo"
                      type="email"
                      class="form-input"
                      placeholder="ejemplo@correo.com"
                      formControlName="correo"
                      name="correo"
                      required
                    />
                  </div>
                  @if( formUtils.esCampoValido(loginForm, 'correo') ){
                    <span class="text-xs text-red-500 mt-1">
                        {{ formUtils.obtenerCampoError(loginForm,  'correo') }}
                      </span>
                  }
                </div>

                <div class="input-group">
                  <label class="input-label" for="contrasena">Contraseña</label>
                  <div class="input-wrapper">
                    <div class="input-icon icon-gray">
                      <mat-icon>lock</mat-icon>
                    </div>
                    <input
                      id="contrasena"
                      [type]="verClave() ? 'text' : 'password'"
                      class="form-input"
                      placeholder="Ingresa tu contraseña"
                      name="contrasena"
                      formControlName="contrasena"
                      required
                    />
                    <button
                      type="button"
                      class="password-toggle icon-gray"
                      (click)="alternarVisibilidadClave()"
                    >
                      <mat-icon
                        class="form-icon"
                      >visibility</mat-icon>
                    </button>
                  </div>
                  @if( formUtils.esCampoValido(loginForm, 'contrasena') ){
                    <span class="text-xs text-red-500 mt-1">
                      {{ formUtils.obtenerCampoError(loginForm, 'contrasena') }}
                    </span>
                  }
                </div>
              </div>

              <div class="form-footer">
                <label class="checkbox-label">
                  <div class="checkbox-wrapper">
                    <input
                      type="checkbox"
                      class="checkbox-input"
                      [value]="recordar()"
                      name="rememberMe"
                    />
                  </div>
                  <span>Recordarme</span>
                </label>

                <button
                  type="button"
                  class="forgot-password-btn"
                  (click)="recuperarClave()"
                >
                  ¿Olvidaste tu contraseña?
                </button>
              </div>

              <button type="submit" class="login-btn">Iniciar Sesión</button>
            </form>

            <!-- Register Section -->
            <div class="register-section">
              <p class="register-text">
                ¿No tienes una cuenta?
                <button
                  type="button"
                  class="register-link"
                  routerLink="/registro"
                >
                  Regístrate aquí
                </button>
              </p>

              <div class="support-links">
                <button
                  type="button"
                  class="support-btn"
                  (click)="soporteTecnico()"
                >
                  Soporte Técnico
                </button>
                <span class="separator">|</span>
                <button
                  type="button"
                  class="support-btn"
                  (click)="verManualUsuario()"
                >
                  Manual de Usuario
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- FooterComponent Component -->
  <app-footer></app-footer>
