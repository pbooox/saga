<!-- Main Container -->
<div class="min-h-screen bg-gray-50">
  <!-- Hero Section -->
  <section class="relative h-[525px] overflow-hidden bg-cover bg-center bg-no-repeat"
           style="background-image: url('https://cdn.builder.io/api/v1/image/assets%2F9513ffe389924175a1d4a897e5c5433b%2F5c12cad17b4f4fa3824a204dede2c230?format=webp&width=800')">

    <!-- Green Overlay -->
    <div class="absolute inset-0 bg-primary/80"></div>
    
    <!-- Content Container -->
    <div class="relative z-10 pt-24 pb-16 px-4 sm:px-6 lg:px-8">
      <div class="max-w-7xl mx-auto">
        <div class="max-w-4xl mx-auto text-center">
          
          <!-- Ministry Badge -->
          <div class="flex items-center justify-center gap-3 mb-6">
            <div class="flex items-center justify-center w-16 h-16 bg-white bg-opacity-20 rounded-2xl backdrop-blur-sm">
              <!-- MARN Icon -->
              <svg width="32" height="32" viewBox="0 0 33 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M27.8047 3.125V5.625C27.8047 9.49167 27.1214 12.7833 25.7547 15.5C24.488 18.0333 22.6964 19.95 20.3797 21.25C18.1797 22.5 15.6547 23.125 12.8047 23.125H8.10469C7.90469 24.2583 7.80469 25.5083 7.80469 26.875H5.30469C5.30469 25.175 5.44635 23.6167 5.72969 22.2C5.44635 20.5833 5.30469 18.3917 5.30469 15.625C5.30469 13.925 5.62969 12.3 6.27969 10.75C6.91302 9.26667 7.80885 7.94583 8.96719 6.7875C10.1255 5.62917 11.4464 4.73333 12.9297 4.1C14.4797 3.45 16.1047 3.125 17.8047 3.125C18.3047 3.125 19.088 3.20833 20.1547 3.375C21.0214 3.50833 21.7047 3.59167 22.2047 3.625C23.0547 3.69167 23.888 3.7 24.7047 3.65C25.688 3.56667 26.7214 3.39167 27.8047 3.125ZM17.8047 5.625C15.988 5.625 14.3047 6.08333 12.7547 7C11.2547 7.88333 10.063 9.075 9.17969 10.575C8.26302 12.125 7.80469 13.8083 7.80469 15.625V16.925C8.57135 15.725 9.53802 14.6083 10.7047 13.575C11.8214 12.5917 13.1464 11.6667 14.6797 10.8L15.9297 12.95C14.0797 14.0167 12.588 15.1417 11.4547 16.325C10.2547 17.575 9.36302 19.0083 8.77969 20.625H12.8047C15.3214 20.625 17.5089 20.075 19.3672 18.975C21.2255 17.875 22.6547 16.2583 23.6547 14.125C24.7047 11.9083 25.2547 9.23333 25.3047 6.1C24.4714 6.18333 23.6214 6.20833 22.7547 6.175C21.9714 6.125 21.063 6.025 20.0297 5.875C19.2964 5.75833 18.8047 5.6875 18.5547 5.6625C18.3047 5.6375 18.0547 5.625 17.8047 5.625Z" fill="white"/>
              </svg>
            </div>
            
            <div class="text-left">
              <div class="text-green-100 text-sm font-semibold tracking-wide uppercase">
                MINISTERIO DE AMBIENTE
              </div>
              <div class="text-white text-lg font-bold">
                MARN
              </div>
            </div>
          </div>

          <!-- Main Title -->
          <h1 class="text-4xl md:text-5xl font-bold text-white mb-6 leading-tight">
            Formulario Instrumento Ambiental Bajo<br>
            Impacto
          </h1>

          <!-- Description -->
          <p class="text-xl text-green-100 mb-8 max-w-3xl mx-auto leading-relaxed">
            Complete el proceso de evaluación ambiental para su proyecto de manera digital y
            eficiente
          </p>

          <!-- Info Pills -->
          <div class="flex flex-wrap items-center justify-center gap-4 text-green-100">
            <div class="flex items-center gap-2">
              <!-- Clock Icon -->
              <svg width="19" height="19" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M9.60938 16.5C8.58938 16.5 7.61438 16.305 6.68437 15.915C5.79437 15.535 5.00187 14.9975 4.30687 14.3025C3.61187 13.6075 3.07437 12.815 2.69437 11.925C2.30437 10.995 2.10938 10.02 2.10938 9C2.10938 7.98 2.30437 7.005 2.69437 6.075C3.07437 5.185 3.61187 4.3925 4.30687 3.6975C5.00187 3.0025 5.79437 2.465 6.68437 2.085C7.61438 1.695 8.58938 1.5 9.60938 1.5C10.6294 1.5 11.6044 1.695 12.5344 2.085C13.4244 2.465 14.2169 3.0025 14.9119 3.6975C15.6069 4.3925 16.1444 5.185 16.5244 6.075C16.9144 7.005 17.1094 7.98 17.1094 9C17.1094 10.02 16.9144 10.995 16.5244 11.925C16.1444 12.815 15.6069 13.6075 14.9119 14.3025C14.2169 14.9975 13.4244 15.535 12.5344 15.915C11.6044 16.305 10.6294 16.5 9.60938 16.5ZM9.60938 15C10.6994 15 11.7094 14.725 12.6394 14.175C13.5394 13.645 14.2544 12.93 14.7844 12.03C15.3344 11.1 15.6094 10.09 15.6094 9C15.6094 7.91 15.3344 6.9 14.7844 5.97C14.2544 5.07 13.5394 4.355 12.6394 3.825C11.7094 3.275 10.6994 3 9.60938 3C8.51937 3 7.50938 3.275 6.57937 3.825C5.67937 4.355 4.96438 5.07 4.43438 5.97C3.88437 6.9 3.60938 7.91 3.60938 9C3.60938 10.09 3.88437 11.1 4.43438 12.03C4.96438 12.93 5.67937 13.645 6.57937 14.175C7.50938 14.725 8.51937 15 9.60938 15ZM10.3594 9H13.3594V10.5H8.85938V5.25H10.3594V9Z" fill="#D1FAE5"/>
              </svg>
              <span class="text-base font-medium">Tiempo estimado: 45-90 días</span>
            </div>
            
            <div class="h-6 w-px bg-green-300"></div>
            
            <div class="flex items-center gap-2">
              <!-- Money Icon -->
              <svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M9.73438 16.5C8.71438 16.5 7.73938 16.305 6.80937 15.915C5.91937 15.535 5.12687 14.9975 4.43187 14.3025C3.73687 13.6075 3.19937 12.815 2.81937 11.925C2.42937 10.995 2.23438 10.02 2.23438 9C2.23438 7.98 2.42937 7.005 2.81937 6.075C3.19937 5.185 3.73687 4.3925 4.43187 3.6975C5.12687 3.0025 5.91937 2.465 6.80937 2.085C7.73938 1.695 8.71438 1.5 9.73438 1.5C10.7544 1.5 11.7294 1.695 12.6594 2.085C13.5494 2.465 14.3419 3.0025 15.0369 3.6975C15.7319 4.3925 16.2694 5.185 16.6494 6.075C17.0394 7.005 17.2344 7.98 17.2344 9C17.2344 10.02 17.0394 10.995 16.6494 11.925C16.2694 12.815 15.7319 13.6075 15.0369 14.3025C14.3419 14.9975 13.5494 15.535 12.6594 15.915C11.7294 16.305 10.7544 16.5 9.73438 16.5ZM9.73438 15C10.8244 15 11.8344 14.725 12.7644 14.175C13.6644 13.645 14.3794 12.93 14.9094 12.03C15.4594 11.1 15.7344 10.09 15.7344 9C15.7344 7.91 15.4594 6.9 14.9094 5.97C14.3794 5.07 13.6644 4.355 12.7644 3.825C11.8344 3.275 10.8244 3 9.73438 3C8.64437 3 7.63438 3.275 6.70437 3.825C5.80437 4.355 5.08938 5.07 4.55938 5.97C4.00937 6.9 3.73438 7.91 3.73438 9C3.73438 10.09 4.00937 11.1 4.55938 12.03C5.08938 12.93 5.80437 13.645 6.70437 14.175C7.63438 14.725 8.64437 15 9.73438 15ZM7.10938 10.5H11.2344C11.3344 10.5 11.4219 10.4625 11.4969 10.3875C11.5719 10.3125 11.6094 10.225 11.6094 10.125C11.6094 10.025 11.5719 9.9375 11.4969 9.8625C11.4219 9.7875 11.3344 9.75 11.2344 9.75H8.23438C7.89437 9.75 7.58187 9.665 7.29688 9.495C7.01187 9.325 6.78437 9.0975 6.61438 8.8125C6.44438 8.5275 6.35938 8.215 6.35938 7.875C6.35938 7.535 6.44438 7.2225 6.61438 6.9375C6.78437 6.6525 7.01187 6.425 7.29688 6.255C7.58187 6.085 7.89437 6 8.23438 6H8.98438V4.5H10.4844V6H12.3594V7.5H8.23438C8.13438 7.5 8.04688 7.5375 7.97187 7.6125C7.89687 7.6875 7.85938 7.775 7.85938 7.875C7.85938 7.975 7.89687 8.0625 7.97187 8.1375C8.04688 8.2125 8.13438 8.25 8.23438 8.25H11.2344C11.5744 8.25 11.8869 8.335 12.1719 8.505C12.4569 8.675 12.6844 8.9025 12.8544 9.1875C13.0244 9.4725 13.1094 9.785 13.1094 10.125C13.1094 10.465 13.0244 10.7775 12.8544 11.0625C12.6844 11.3475 12.4569 11.575 12.1719 11.745C11.8869 11.915 11.5744 12 11.2344 12H10.4844V13.5H8.98438V12H7.10938V10.5Z" fill="#D1FAE5"/>
              </svg>
              <span class="text-base font-medium">Costo: Q.800 - Q.1,200</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Form Section -->
  <section class="px-4 py-16 sm:px-6 lg:px-8">
    <div class="mx-auto max-w-7xl">
      <div class="flex gap-8 lg:flex-row flex-col">
        
        <!-- Sidebar Navigation -->
        <div class="w-full lg:w-80 shrink-0">
          <div class="lg:sticky lg:top-8">
            <div class="max-h-[819px] overflow-y-auto rounded-2xl bg-white p-8 shadow-lg">
              
              <!-- Information General Section -->
              <div class="mb-8">
                <h3 class="text-sm font-bold text-gray-400 tracking-wider uppercase mb-4">
                  Información General
                </h3>
                
                <div class="space-y-4">
                  <!-- Form Steps -->
                  @for (step of formSteps; track step.numero) {
                    <div class="flex items-start">
                      <div class="flex-shrink-0">
                        <div [class]="step.estado === 'active' ?
                                     'flex size-10 items-center justify-center rounded-full bg-primary text-sm font-bold text-white' :
                                     'flex size-10 items-center justify-center rounded-full bg-gray-200 text-sm font-bold text-gray-600'">
                          {{ step.numero }}
                        </div>
                      </div>
                      <div class="ml-3 flex-1">
                        <h4 [class]="step.estado === 'active' ? 
                                     'text-sm font-medium text-green-600 leading-5' :
                                     'text-sm font-medium text-gray-900 leading-5'">
                          {{ step.titulo }}
                        </h4>
                        <p class="text-xs text-gray-500 mt-1">
                          {{ step.descripcion }}
                        </p>
                      </div>
                    </div>
                  }
                </div>
              </div>

              <!-- Impactos Ambientales Section -->
              <div class="mb-8">
                <h3 class="text-sm font-bold text-gray-400 tracking-wider uppercase mb-4">
                  Impactos Ambientales
                </h3>
                
                <div class="space-y-4">
                  @for (impacto of impactosAmbientales; track impacto.numero) {
                    <div class="flex items-start">
                      <div class="shrink-0">
                        <div class="flex size-10 items-center justify-center rounded-full bg-gray-200 text-sm font-bold text-gray-600">
                          {{ impacto.numero }}
                        </div>
                      </div>
                      <div class="ml-3 flex-1">
                        <h4 class="text-sm font-medium text-gray-900 leading-5">
                          {{ impacto.titulo }}
                        </h4>
                        <p class="text-xs text-gray-500 mt-1">
                          {{ impacto.descripcion }}
                        </p>
                      </div>
                    </div>
                  }
                </div>
              </div>

              <!-- Requisitos Section -->
              <div>
                <h3 class="text-sm font-bold text-gray-400 tracking-wider uppercase mb-4">
                  Requisitos
                </h3>
                
                <div class="space-y-4">
                  @for (requisito of requisitos; track requisito.numero) {
                    <div class="flex items-start">
                      <div class="shrink-0">
                        <div class="flex size-10 items-center justify-center rounded-full bg-gray-200 text-sm font-bold text-gray-600">
                          {{ requisito.numero }}
                        </div>
                      </div>
                      <div class="ml-3 flex-1">
                        <h4 class="text-sm font-medium text-gray-900 leading-5">
                          {{ requisito.titulo }}
                        </h4>
                        <p class="text-xs text-gray-500 mt-1">
                          {{ requisito.descripcion }}
                        </p>
                      </div>
                    </div>
                  }
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Main Form Content -->
        <div class="flex-1">
          <div class="rounded-2xl bg-white p-12 shadow-lg">
            
            <!-- Form Header -->
            <div class="mb-8">
              <h2 class="text-3xl font-bold text-green-700 mb-6">
                Formulario Instrumento Ambiental Bajo Impacto
              </h2>
              
              <!-- Tipo de Actividad -->
              <div class="mb-8">
                <label class="block text-sm font-semibold text-gray-900 mb-4">
                  Tipo de Actividad *
                </label>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                  @for (tipo of tiposActividad; track tipo) {
                    <button 
                      type="button"
                      (click)="selectTipoActividad(tipo)"
                      [class]="selectedTipoActividad === tipo ? 
                               'border-2 border-green-500 bg-green-50 text-green-900 p-4 rounded-xl text-left text-sm font-medium transition-all hover:border-green-600' :
                               'border-2 border-gray-200 bg-white text-gray-900 p-4 rounded-xl text-left text-sm font-medium transition-all hover:border-gray-300'">
                      {{ tipo }}
                    </button>
                  }
                </div>
              </div>
            </div>

            <!-- Form Content Area -->
            <div class="min-h-[600px] flex items-center justify-center">
              <div class="text-center text-gray-500">
                <p class="text-lg">Seleccione un tipo de actividad para continuar</p>
              </div>
            </div>

            <!-- Navigation Footer -->
            <div class="border-t border-gray-200 pt-8 mt-12">
              <div class="flex items-center justify-between">
                
                <!-- Previous Button -->
                <button 
                  type="button"
                  (click)="goToPrevious()"
                  class="flex items-center gap-2 px-6 py-3 bg-gray-100 text-gray-500 rounded-lg hover:bg-gray-200 transition-colors">
                  <!-- Previous Icon -->
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  Anterior
                </button>

                <!-- Step Counter -->
                <div class="text-sm text-gray-600">
                  Paso {{ currentStep }} de {{ totalSteps }}
                </div>

                <!-- Next Button -->
                <button 
                  type="button"
                  (click)="goToNext()"
                  [disabled]="!selectedTipoActividad"
                  [class]="selectedTipoActividad ? 
                           'flex items-center gap-2 px-8 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors' :
                           'flex items-center gap-2 px-8 py-3 bg-gray-300 text-gray-500 rounded-lg cursor-not-allowed'">
                  Continuar
                  <!-- Next Icon -->
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
